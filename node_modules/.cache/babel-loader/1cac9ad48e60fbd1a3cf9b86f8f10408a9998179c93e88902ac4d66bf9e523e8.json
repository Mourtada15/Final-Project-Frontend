{"ast":null,"code":"var _jsxFileName = \"/home/mourtada/Final Project - Typescript/Final-Project-Frontend/myapp/src/Components/Cards/Cards.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./Cards.css\";\nimport instance from '../../api';\nimport axios from 'axios';\nimport DataContext from '../../ContextAPI/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cards = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n\n  // useEffect(() => {\n  //   const fetchProductsAndCategoriesAndSubCategories = async () => {\n  //     try {\n  //       const [productsResponse, categoriesResponse, subCategoriesResponse] = await axios.all([\n  //         instance.get('/api/products'),\n  //         instance.get('/api/categories'),\n  //         instance.get('/api/subcategories')\n  //       ]);\n  //       console.log(\"Products:\", productsResponse)\n  //       console.log(\"Categories:\", categoriesResponse)\n  //       console.log(\"SubCategories:\", subCategoriesResponse)\n\n  //       setProducts(productsResponse.data);\n  //       setCategories(categoriesResponse.data);\n  //       setSubCategories(subCategoriesResponse.data);\n  //     } catch (error) {\n  //       console.error('Error fetching data', error.message);\n  //     }\n  //   };\n\n  //   fetchProductsAndCategoriesAndSubCategories();\n  // }, []);\n\n  const data = useContext(DataContext);\n  // Check if products is empty or null\n  if (!data || products.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  console.log(\"Here\", data);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(Cards, \"B9kHQzX/Yi68pvbSIPYngi7UyuY=\");\n_c = Cards;\nexport default Cards;\nvar _c;\n$RefreshReg$(_c, \"Cards\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","instance","axios","DataContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Cards","_s","products","setProducts","categories","setCategories","subCategories","setSubCategories","data","length","children","fileName","_jsxFileName","lineNumber","columnNumber","console","log","_c","$RefreshReg$"],"sources":["/home/mourtada/Final Project - Typescript/Final-Project-Frontend/myapp/src/Components/Cards/Cards.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./Cards.css\";\nimport instance from '../../api';\nimport axios from 'axios';\nimport DataContext from '../../ContextAPI/Context'\n\nconst Cards = () => {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n\n  // useEffect(() => {\n  //   const fetchProductsAndCategoriesAndSubCategories = async () => {\n  //     try {\n  //       const [productsResponse, categoriesResponse, subCategoriesResponse] = await axios.all([\n  //         instance.get('/api/products'),\n  //         instance.get('/api/categories'),\n  //         instance.get('/api/subcategories')\n  //       ]);\n  //       console.log(\"Products:\", productsResponse)\n  //       console.log(\"Categories:\", categoriesResponse)\n  //       console.log(\"SubCategories:\", subCategoriesResponse)\n\n  //       setProducts(productsResponse.data);\n  //       setCategories(categoriesResponse.data);\n  //       setSubCategories(subCategoriesResponse.data);\n  //     } catch (error) {\n  //       console.error('Error fetching data', error.message);\n  //     }\n  //   };\n\n  //   fetchProductsAndCategoriesAndSubCategories();\n  // }, []);\n\n  const data = useContext(DataContext);\n  // Check if products is empty or null\n  if (!data || products.length === 0) {\n    return <div>Loading...</div>;\n  }\n  console.log(\"Here\", data)\n\n  return (\n    <>\n      {/* {categories.map((category) => (\n        <div className=\"card-wrapper\" key={category._id} id={category.name}>\n\n          <div className=\"category-header-in-wrapper\">\n            <span>\n              <h5>{category.name} | </h5>\n              {subCategories.filter((subCategory) => subCategory.category === category.name).map((subCategory,index) => \n                 <span key={subCategory._id}>{subCategory.name} {index < subCategories.filter((subCategory) => subCategory.category === category.name).length -1 ? ' - ' :''} </span>\n              )}</span>\n            <Link to={`/cardpage?category=${encodeURIComponent(category.name)}`}>See all</Link>\n          </div>\n\n          <div className=\"card-container\">\n            {products.filter((product) => product.subCategoryID.category === category.name).map((product, index) => (\n                index < 5 ? \n                <div key={product._id} className='card' target='_blank'>\n                <div className=\"card-image-container\">\n                  <img src={`${instance.defaults.baseURL}/${product.image}`} className=\"card-img-top\" alt=\"\" />\n                </div>\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{product.title}</h5>\n                  <p className=\"card-text\">{product.description.substring(0, 100)}{product.description.length > 100 ? '...' : ''}</p>\n                  <div className='card-more-details'>\n                    <a href=\"#\" className=\"btn btn-primary\">More details</a>\n                    <span style={{ color: \"gray\" }}>|</span>\n                    <p><b>{product.price}$</b></p>\n                  </div>\n                </div>\n              </div> : null\n            ))}\n          </div>\n        </div>\n      ))} */}\n    </>\n  );\n}\n\nexport default Cards;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAO,aAAa;AACpB,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,0BAA0B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAElD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA,MAAMmB,IAAI,GAAGjB,UAAU,CAACI,WAAW,CAAC;EACpC;EACA,IAAI,CAACa,IAAI,IAAIN,QAAQ,CAACO,MAAM,KAAK,CAAC,EAAE;IAClC,oBAAOZ,OAAA;MAAAa,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9B;EACAC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAER,IAAI,CAAC;EAEzB,oBACEX,OAAA,CAAAE,SAAA,mBAkCE,CAAC;AAEP,CAAC;AAAAE,EAAA,CAxEKD,KAAK;AAAAiB,EAAA,GAALjB,KAAK;AA0EX,eAAeA,KAAK;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}