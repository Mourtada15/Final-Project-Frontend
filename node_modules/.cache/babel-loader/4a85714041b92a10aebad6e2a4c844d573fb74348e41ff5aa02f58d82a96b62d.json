{"ast":null,"code":"export const withAuth = req => {\n  // Check if the \"jwt\" cookie exists\n  const cookies = req.headers.get('cookie');\n  const jwtCookie = cookies === null || cookies === void 0 ? void 0 : cookies.split(';').find(c => c.trim().startsWith('jwt='));\n\n  // If the cookie doesn't exist, redirect to login\n  if (!jwtCookie) {\n    return new Response(null, {\n      status: 302,\n      headers: {\n        Location: '/login' // Adjust the URL as needed\n      }\n    });\n  }\n\n  // If the cookie exists, continue rendering the Home page\n  return NextResponse.next();\n};","map":{"version":3,"names":["withAuth","req","cookies","headers","get","jwtCookie","split","find","c","trim","startsWith","Response","status","Location","NextResponse","next"],"sources":["/home/mourtada/Final Project - Typescript/Final-Project-Frontend/myapp/src/Middleware/Auth.js"],"sourcesContent":["\n\nexport const withAuth = (req) => {\n  // Check if the \"jwt\" cookie exists\n  const cookies = req.headers.get('cookie');\n  const jwtCookie = cookies?.split(';').find((c) => c.trim().startsWith('jwt='));\n\n  // If the cookie doesn't exist, redirect to login\n  if (!jwtCookie) {\n    return new Response(null, {\n      status: 302,\n      headers: {\n        Location: '/login', // Adjust the URL as needed\n      },\n    });\n  }\n\n  // If the cookie exists, continue rendering the Home page\n  return NextResponse.next();\n};\n"],"mappings":"AAEA,OAAO,MAAMA,QAAQ,GAAIC,GAAG,IAAK;EAC/B;EACA,MAAMC,OAAO,GAAGD,GAAG,CAACE,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;EACzC,MAAMC,SAAS,GAAGH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEI,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,UAAU,CAAC,MAAM,CAAC,CAAC;;EAE9E;EACA,IAAI,CAACL,SAAS,EAAE;IACd,OAAO,IAAIM,QAAQ,CAAC,IAAI,EAAE;MACxBC,MAAM,EAAE,GAAG;MACXT,OAAO,EAAE;QACPU,QAAQ,EAAE,QAAQ,CAAE;MACtB;IACF,CAAC,CAAC;EACJ;;EAEA;EACA,OAAOC,YAAY,CAACC,IAAI,CAAC,CAAC;AAC5B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}